<div class="col-md-12">
  <mat-card style="max-width: 500px;">
    <img src="../../../../assets/images/logo.png" style="width: 100%;" />
    <mat-card-header class="m-b-24">
      <mat-card-title> {{ 'Bienvenido al Registro' | translate }} <br /> </mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="registerForm" class="form-field-full">

        <div class="d-flex">
          <mat-form-field appearance="outline" class="mr-4" style="margin-right: 10px;">
            <mat-label>{{ 'Tipo de identificación' | translate }}</mat-label>
            <mat-select formControlName="identifierID">
              <mat-option *ngFor="let item of identifiers" [value]="item.identifierId">
                {{ item.identifierName }}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" class="mr-4" style="margin-right: 10px;">
            <mat-label>{{ 'Identificación' | translate }}</mat-label>
            <input matInput formControlName="identification" required />
            <div *ngIf="registerForm.get('identification')?.invalid && registerForm.get('identification')?.touched">
              <mat-error *ngIf="registerForm.get('identification')?.hasError('required')">
                {{ 'La identificación es obligatoria' | translate }}
              </mat-error>
            </div>
          </mat-form-field>
        </div>

        <div class="d-flex">
          <mat-form-field appearance="outline" class="mr-4" style="margin-right: 10px;">
            <mat-label>{{ 'Nombre' | translate }}</mat-label>
            <input matInput formControlName="name" required />
            <div *ngIf="registerForm.get('name')?.invalid && registerForm.get('name')?.touched">
              <mat-error *ngIf="registerForm.get('name')?.hasError('required')">
                {{ 'El nombre es obligatorio' | translate }}
              </mat-error>
              <mat-error *ngIf="registerForm.get('name')?.hasError('minlength')">
                {{ 'El nombre debe tener mínimo dos caracteres' | translate }}
              </mat-error>
              <mat-error *ngIf="registerForm.get('name')?.hasError('maxlength')">
                {{ 'El nombre debe tener máximo 20 caracteres' | translate }}
              </mat-error>
            </div>
          </mat-form-field>

          <mat-form-field appearance="outline" class="mr-4" style="margin-right: 10px;">
            <mat-label>{{ 'Primer Apellido' | translate }}</mat-label>
            <input matInput formControlName="lastname" required />
            <div *ngIf="registerForm.get('lastname')?.invalid && registerForm.get('lastname')?.touched">
              <mat-error *ngIf="registerForm.get('lastname')?.hasError('required')">
                {{ 'El primer apellido es obligatorio' | translate }}
              </mat-error>
              <mat-error *ngIf="registerForm.get('lastname')?.hasError('minlength')">
                {{ 'El primer apellido debe tener mínimo dos caracteres' | translate }}
              </mat-error>
              <mat-error *ngIf="registerForm.get('lastname')?.hasError('maxlength')">
                {{ 'El primer apellido debe tener máximo 20 caracteres' | translate }}
              </mat-error>
            </div>
          </mat-form-field>
        </div>

        <div class="d-flex">
          <mat-form-field appearance="outline" class="mr-4" style="margin-right: 10px;">
            <mat-label>{{ 'Segundo Apellido' | translate }}</mat-label>
            <input matInput formControlName="secondLastname" />
            <div *ngIf="registerForm.get('secondLastname')?.invalid && registerForm.get('secondLastname')?.touched">
              <mat-error *ngIf="registerForm.get('secondLastname')?.hasError('required')">
                {{ 'El segundo apellido es obligatorio' | translate }}
              </mat-error>
              <mat-error *ngIf="registerForm.get('secondLastname')?.hasError('minlength')">
                {{ 'El segundo apellido debe tener mínimo dos caracteres' | translate }}
              </mat-error>
              <mat-error *ngIf="registerForm.get('secondLastname')?.hasError('maxlength')">
                {{ 'El segundo apellido debe tener máximo 20 caracteres' | translate }}
              </mat-error>
            </div>
          </mat-form-field>

          <mat-form-field appearance="outline" class="mr-4" style="margin-right: 10px;">
            <mat-label>{{ 'Email' | translate }}</mat-label>
            <input matInput formControlName="email" required />
            <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
              <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
                {{ 'El email es obligatorio' | translate }}
              </mat-error>
              <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
                {{ 'El email no es válido' | translate }}
              </mat-error>
            </div>
          </mat-form-field>
        </div>

        <div class="d-flex">
          <mat-form-field appearance="outline" class="mr-4" style="margin-right: 10px;">
            <mat-label>{{ 'Contraseña' | translate }}</mat-label>
            <input matInput type="password" formControlName="password" required />
            <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
              <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
                {{ 'La contraseña es obligatoria' | translate }}
              </mat-error>
              <mat-error *ngIf="registerForm.get('password')?.hasError('passwordPattern')">
                {{ 'La contraseña debe contener al menos una letra y un número' | translate }}
              </mat-error>
            </div>
          </mat-form-field>

          <mat-form-field appearance="outline" class="mr-4" style="margin-right: 10px;">
            <mat-label>{{ 'Confirmar contraseña' | translate }}</mat-label>
            <input matInput type="password" formControlName="confirmPassword" required />
            <div *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
              <mat-error *ngIf="registerForm.hasError('mismatch')">
                {{ 'Las contraseñas no coinciden' | translate }}
              </mat-error>
            </div>
          </mat-form-field>
        </div>
        <mat-checkbox>{{ 'Estoy de acuerdo' | translate }}</mat-checkbox>
        <button class="w-full m-y-16" mat-raised-button color="primary" (click)="onRegister()" [disabled]="!registerForm.valid">
          {{ 'Registrarse' | translate }}
        </button>
        <div>
          {{ 'Tengo una cuenta' | translate }}?
          <a routerLink="/auth/login">{{ 'login' | translate }}</a>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>